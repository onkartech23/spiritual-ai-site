<script type="text/javascript">
  let vfReady=false, vfAPI=null;
  function openBot(){
    if(vfReady && vfAPI){ vfAPI.open(); } else { setTimeout(openBot,300); }
  }
  document.getElementById('chatBtn').addEventListener('click', e => { e.preventDefault(); openBot(); });

  (function(d,t){
    const v=d.createElement(t), s=d.getElementsByTagName(t)[0];
    v.onload=function(){
      window.voiceflow.chat.load({
        verify:{ projectID:'6872205abf484647c16ff114' },
        url:'https://general-runtime.voiceflow.com',
        versionID:'production',
        voice:{ url:'https://runtime-api.voiceflow.com' }
      });
      const timer=setInterval(()=>{
        const api=window.voiceflow && window.voiceflow.chat;
        if(api && api.open){
          clearInterval(timer);
          vfAPI=api; vfReady=true;
          removeVFLauncher();
        }
      },200);
    };
    v.src="https://cdn.voiceflow.com/widget-next/bundle.mjs";
    v.type="text/javascript";
    s.parentNode.insertBefore(v,s);
  })(document,'script');

  function removeVFLauncher(){
    const selectors=['#vf-launcher','[data-testid="launcher"]','button.vfrc-button','.vfrc-launcher'];
    const kill=()=>selectors.forEach(sel=>document.querySelectorAll(sel).forEach(el=>el.remove()));
    kill();
    new MutationObserver(kill).observe(document.body,{childList:true,subtree:true});
  }
</script>
